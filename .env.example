# ============================================================================
# CourseSmith AI - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your values

# ============================================================================
# SUPABASE CONFIGURATION (Required for API key retrieval and credits)
# ============================================================================
# The OpenAI API key is retrieved from the Supabase 'secrets' table
# This keeps the API key secure and out of the source code

# Your Supabase project URL (e.g., https://your-project.supabase.co)
SUPABASE_URL=your_supabase_url_here

# Your Supabase anon/public key
# Used for credit checking and API key retrieval from secrets table
SUPABASE_KEY=your_supabase_key_here

# ============================================================================
# SUPABASE TABLE SETUP
# ============================================================================
# Create a 'secrets' table in your Supabase database with:
#
# CREATE TABLE secrets (
#     id SERIAL PRIMARY KEY,
#     name VARCHAR(255) UNIQUE NOT NULL,
#     value TEXT NOT NULL
# );
#
# Then insert your OpenAI API key:
# INSERT INTO secrets (name, value) VALUES ('OPENAI_API_KEY', 'sk-your-key-here');
#
# SECURITY: Enable Row Level Security (RLS) for production use:
# ALTER TABLE secrets ENABLE ROW LEVEL SECURITY;
#
# If using service role key (recommended for secrets):
# CREATE POLICY "Service role access only" ON secrets
#   FOR ALL USING (auth.role() = 'service_role');
#
# If using anon key with application-level protection:
# CREATE POLICY "Read only for authenticated" ON secrets
#   FOR SELECT USING (auth.role() = 'authenticated');
# ============================================================================
